{"componentChunkName":"component---node-modules-gatsby-theme-documentation-src-templates-doc-js","path":"/deprecated/secrets","result":{"data":{"doc":{"id":"3459f162-4a86-5fdc-9b7f-939aca742d5d","title":"","description":null,"excerpt":"Secret Management ⚠️  Note : this is deprecated functionality that is still provided for backwards compatibility. We encourage you to use…","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h3\", {\n    \"id\": \"secret-management\"\n  }, \"Secret Management\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"\\u26A0\\uFE0F \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Note\"), \": this is deprecated functionality that is still provided for backwards compatibility. We encourage you to use the improved, fully-supported \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://docs.newrelic.com/docs/integrations/host-integrations/installation/secrets-management\"\n  }), \"secrets management functionality for On-Host Integrations\"), \". \")), mdx(\"p\", null, \"Flex Secret Management supports:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Hashicorp Vault\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"AWS KMS\")), mdx(\"h4\", {\n    \"id\": \"aws-kms\"\n  }, \"AWS KMS\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-yaml\"\n  }), \"### kms secret example\\n---\\nname: awskmsExample\\nsecrets:\\n  myawskey: # specify a namespace for your key\\n    kind: aws-kms # set kind of secret\\n    region: ap-southeast-2 # region required\\n    ### can specify your own credential and/or config file\\n    # credential_file: \\\"./myAWSCredentialFile\\\"\\n    # config_file: \\\"./myAWSConfigFile\\\"\\n    ### need to set one of three options, http, file, or data to decrypt\\n    http: \\n      url: https://some-special-s3-bucket.s3-ap-southeast-2.amazonaws.com/some.file ### download a file containing a secret\\n      ### other optional configuration for http\\n      # headers:\\n      #   myHeader: ABC\\n      # tls_config:\\n      #   insecure_skip_verify: true\\n      #   ca: \\\"./pathToCa\\\"\\n    # file: ./some.file ### path to file\\n    # data: AQICAHgdUAUlK7RGdwKFdBCTfRCsNk3oNtTv7FWsrP5VgoCFUgHPmcKgBpjzi7sdnDvV+RipAAAAZzBlBgkqhkiG9w0BBwagWDBWAgEAMFEGCSqGSIb3DQEHATAeBglghkgBZQMEAS4wEQQMDUJMrVgA36DJmdflAgEQgCQIlM5F0zpUbH0MgWUskXjb4GJmAOvLgJUkMf5SJDmE2sceuCs=\\n    ### the exact returned value will be accessible via ${secret.<namespace>:value} eg. ${secret.myawskey:value} \\n    ### if you want to unpack the decrypted contents further, set a \\\"type\\\"\\n    ### if the type is set to json, the json attributes will become available to select \\n    ### eg. {\\\"abc\\\":\\\"def\\\"} returned the \\\"def\\\" value can be accessed by setting ${secret.myawskey:abc} and \\\"def\\\" will be substituted in\\n    ### likewise if you have a value that is split by equals that looks like \\\"abc=def\\\" or even \\\"abc=def,hello=hi\\\"\\n    ### ${secret.myawskey:abc} will be substituted to \\\"def\\\" and ${secret.myawskey:hello} will be substituted \\\"hi\\\"\\n    type: equal \\ncustom_attributes: # applies to all apis\\n  myCustAttr: myCustVal\\napis: \\n  - event_type: awskmsExample\\n    url: https://jsonplaceholder.typicode.com/todos/1\\n    custom_attributes:\\n      nestedCustAttr: nestedCustVal # nested custom attributes specific to each api\\n      secretFull: ${secret.myawskey:value} # \\n      secretOther: ${secret.myawskey:hello} #\\n\")), mdx(\"h4\", {\n    \"id\": \"vault\"\n  }, \"Vault\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-yaml\"\n  }), \"### Hashicorp Vault Secret Example\\n---\\nname: vaultExample\\nsecrets:\\n  myVaultKey: # specify a namespace for your key\\n    kind: vault # set kind of secret\\n    http: \\n      url: http://localhost:1234/v1/newengine/data/secondsecret ### v2 engine format\\n      headers:\\n        X-Vault-Token: myroot\\n      # V2 Engine example payload returned\\n      #  ${secret.myVaultKey:abc} would return \\\"hello\\\"\\n      #  ${secret.myVaultKey:def} would return \\\"bye\\\"\\n      # {\\n      #   \\\"request_id\\\": \\\"96bd7c0a-3a93-cd41-363f-e43710e05ac8\\\",\\n      #   \\\"lease_id\\\": \\\"\\\",\\n      #   \\\"renewable\\\": false,\\n      #   \\\"lease_duration\\\": 0,\\n      #   \\\"data\\\": {\\n      #     \\\"data\\\": {\\n      #       \\\"abc\\\": \\\"hello\\\",\\n      #       \\\"def\\\": \\\"bye\\\"\\n      #     },\\n      #     \\\"metadata\\\": {\\n      #       \\\"created_time\\\": \\\"2019-08-08T14:04:12.755825Z\\\",\\n      #       \\\"deletion_time\\\": \\\"\\\",\\n      #       \\\"destroyed\\\": false,\\n      #       \\\"version\\\": 2\\n      #     }\\n      #   },\\n      #   \\\"wrap_info\\\": null,\\n      #   \\\"warnings\\\": null,\\n      #   \\\"auth\\\": null\\n      # }\\n      ### V1 Engine\\n      # url: http://localhost:1234/v1/kv/somepath ### v1 engine format\\n      # headers:\\n      #   X-Vault-Token: myroot\\n      # V1 Engine example payload returned\\n      #  ${secret.myVaultKey:key1} would return \\\"hello\\\"\\n      #  ${secret.myVaultKey:key2} would return \\\"bye\\\"\\n      # {\\n      #   \\\"request_id\\\": \\\"b80581c9-69ed-2f48-13a2-c1c7a064f26f\\\",\\n      #   \\\"lease_id\\\": \\\"\\\",\\n      #   \\\"renewable\\\": false,\\n      #   \\\"lease_duration\\\": 2764800,\\n      #   \\\"data\\\": {\\n      #     \\\"key1\\\": \\\"hello\\\",\\n      #     \\\"key2\\\": \\\"bye\\\"\\n      #   },\\n      #   \\\"wrap_info\\\": null,\\n      #   \\\"warnings\\\": null,\\n      #   \\\"auth\\\": null\\n      # }\\napis: \\n  - event_type: vaultExample\\n    url: https://jsonplaceholder.typicode.com/todos/1\\n    custom_attributes:\\n      nestedCustAttr: nestedCustVal # nested custom attributes specific to each api\\n      secretOne: ${secret.myVaultKey:abc} \\n      secretTwo: ${secret.myVaultKey:def}\\n\")));\n}\n;\nMDXContent.isMDXComponent = true;","headings":[{"value":"Secret Management"},{"value":"AWS KMS"},{"value":"Vault"}]}},"pageContext":{"id":"3459f162-4a86-5fdc-9b7f-939aca742d5d","slug":"/deprecated/secrets","previous":{"id":"ad8dbc40-de77-52fb-8356-3530eb4d7106","slug":"/deprecated/discovery"},"next":{"id":"bef3ff93-1f18-5557-afa8-f98ad6891355","slug":"/deprecated/jmx"}}}}